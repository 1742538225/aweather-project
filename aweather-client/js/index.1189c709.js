(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],s[r]&&p.push(s[r][0]),s[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},s={index:0},n=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("645c")},"083c":function(t,e,a){t.exports=a.p+"img/yinlianLOGO.e7b7682c.png"},"0f82":function(t,e,a){"use strict";var i=a("d04c"),s=a.n(i);s.a},1646:function(t,e,a){t.exports=a.p+"img/QQ.cffbfad8.jpg"},"18d4":function(t,e,a){"use strict";var i=a("65f2"),s=a.n(i);s.a},"1a3e":function(t,e,a){"use strict";var i=a("66a8"),s=a.n(i);s.a},"252b":function(t,e,a){"use strict";var i=a("8e87"),s=a("4efb"),n=a("2877"),r=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,"749f07e2",null);e["default"]=r.exports},"306c":function(t,e,a){t.exports=a.p+"img/loading.efe06ab4.gif"},3788:function(t,e,a){"use strict";var i=a("4801"),s=a.n(i);s.a},"3bc4":function(t,e,a){t.exports=a.p+"img/xue.a7df0081.png"},"3e74":function(t,e,a){},"47fb":function(t,e,a){t.exports=a.p+"img/favicon.2d91310c.png"},4801:function(t,e,a){},4850:function(t,e,a){"use strict";var i=a("e806"),s=a.n(i);s.a},"4cd2":function(t,e,a){"use strict";(function(t){a("7514");(function(t,e,a,i){function s(e,a,i){var s=this,n=s.checkElm(e)?t(e):t;i=s.checkFn(i)?i:function(){};var r={successLabelTip:"Successfully Verified",duration:200,swipestart:!1,min:0,max:n.width(),index:0,IsOk:!1,lableIndex:0};r=t.extend(r,a||{}),s.elm=n,s.opts=r,s.swipestart=r.swipestart,s.min=r.min,s.max=r.max,s.index=r.index,s.isOk=r.isOk,s.labelWidth=s.elm.find("#label").width(),s.sliderBg=s.elm.find("#slider_bg"),s.lableIndex=r.lableIndex,s.success=i}s.prototype.init=function(){var t=this;t.updateView(),t.elm.find("#label").on("mousedown",function(a){var i=a||e.event;t.lableIndex=i.clientX-this.offsetLeft,t.handerIn()}).on("mousemove",function(e){t.handerMove(e)}).on("mouseup",function(e){t.handerOut()}).on("mouseout",function(e){t.handerOut()}).on("touchstart",function(a){var i=a||e.event;t.lableIndex=i.originalEvent.touches[0].pageX-this.offsetLeft,t.handerIn()}).on("touchmove",function(e){t.handerMove(e,"mobile")}).on("touchend",function(e){t.handerOut()})},s.prototype.handerIn=function(){var t=this;t.swipestart=!0,t.min=0,t.max=t.elm.width()},s.prototype.handerOut=function(){var t=this;t.swipestart=!1,t.index<t.max&&t.reset()},s.prototype.handerMove=function(t,a){var i=this;i.swipestart&&(t.preventDefault(),t=t||e.event,i.index="mobile"==a?t.originalEvent.touches[0].pageX-i.lableIndex:t.clientX-i.lableIndex,i.move())},s.prototype.move=function(){var e=this;e.index+e.labelWidth>=300&&(e.index=300-e.labelWidth-2,e.swipestart=!1,e.isOk=!0),e.index<0&&(e.index=e.min,e.isOk=!1),e.index+e.labelWidth+2==300&&e.isOk&&(t("#label").unbind().next("#labelTip").text(e.opts.successLabelTip).css({color:"#fff"}),e.success()),e.updateView()},s.prototype.updateView=function(){var t=this;t.sliderBg.css("width",t.index),t.elm.find("#label").css("left",t.index+"px")},s.prototype.reset=function(){var t=this;t.index=0,t.sliderBg.animate({width:0},t.opts.duration),t.elm.find("#label").animate({left:t.index},t.opts.duration).next("#lableTip").animate({opacity:1},t.opts.duration),t.updateView()},s.prototype.checkElm=function(e){if(t(e).length>0)return!0;throw"this element does not exist."},s.prototype.checkFn=function(t){if("function"===typeof t)return!0;throw"the param is not a function."},e["SliderUnlock"]=s})(t,window,document)}).call(this,a("1157"))},"4efb":function(t,e,a){"use strict";var i=a("f829"),s=a.n(i);e["default"]=s.a},"52a0":function(t,e,a){t.exports=a.p+"img/LOGO_12_透明背景.69ab5c2b.png"},5699:function(t,e,a){t.exports=a.p+"img/lei.290732e7.png"},"5b0e":function(t,e,a){t.exports=a.p+"img/yujiaxue.a7df0081.png"},"61e7":function(t,e,a){},"645c":function(t,e,a){"use strict";a.r(e);a("4917"),a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("br"),a("v-header",{attrs:{userName:t.userName,location:t.location}}),a("br"),a("transition",{attrs:{mode:"out-in"}},[a("router-view",{ref:"routerView",on:{showAlert:t.showAlert,changeUserName:t.changeUserName,getLocation:t.getLocation,getUser:t.getUser}})],1),a("br"),a("v-footer",{ref:"footer",on:{clearUser:t.clearUser,getLocation:t.getLocation,getCity:t.getCity,showAlert:t.showAlert}})],1),a("transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showCheck,expression:"showCheck"}],attrs:{id:"sliderCheckDiv"}},[a("h5",{attrs:{id:"sliderTitle"}},[t._v("请证明你不是机器人")]),a("slider-check",{on:{doRegister:t.doRegister}}),a("button",{staticClass:"btn btn-danger",staticStyle:{margin:"2%"},on:{click:function(e){t.showCheck=!1,t.clearUser()}}},[t._v("取消注册")])],1)]),a("div",{staticClass:"modal fade",attrs:{id:"loginAndRegisterModal",tabindex:"-1",role:"dialog","aria-labelledby":"loginAndRegisterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content",attrs:{id:"login"}},[a("transition",{attrs:{mode:"out-in"}},[a(t.loginOrRegister,{tag:"component",attrs:{data:t.data,user:t.user}})],1),a("div",{staticClass:"modal-footer"},[a("span",{attrs:{id:"loginOrRegisterSpan"}}),t._m(0),a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(e){return t.doLogin()}}},[t._v("登录")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.registerToCheck()}}},[t._v("注册新用户")])])],1)])]),a("div",{staticClass:"modal fade",attrs:{id:"alertModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[t._v("\n          "+t._s(t.alertMsg)+"\n        ")])])])])],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{attrs:{href:"#"}},[i("img",{staticStyle:{height:"36px"},attrs:{src:a("1646")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("通知")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],r=a("ff1c"),o=r["a"],l=(a("4850"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,null,null),u=c.exports,d=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{attrs:{id:"main"}},[a("div",{staticClass:"row"},[a("home-box")],1),t._m(0)])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 "},[a("div",{staticClass:"list-group alert alert-primary "},[a("li",{staticClass:"list-group-item"},[a("span",{staticStyle:{"font-size":"20px"}},[t._v("公告")])]),a("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#",target:"parent"}},[t._v("更新1")]),a("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#",target:"parent"}},[t._v("更新2")])])]),a("div",{staticClass:"col-md-6 "},[a("div",{staticClass:"list-group alert alert-success "},[a("li",{staticClass:"list-group-item"},[a("span",{staticStyle:{"font-size":"20px"}},[t._v("链接")])]),a("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"https://www.tianqiapi.com/",target:"parent"}},[t._v("天气API官网")]),a("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"https://blog.csdn.net/weixin_43636289",target:"parent"}},[t._v("我的博客")])])])])}],f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap",attrs:{id:"homeBox"}},[i("div",{staticClass:"cube"},[i("div",{staticClass:"out_front"},[i("img",{staticClass:"pic",attrs:{src:a("ecfb")}})]),i("div",{staticClass:"out_back"},[i("img",{staticClass:"pic",attrs:{src:a("5699")}})]),i("div",{staticClass:"out_left"},[i("img",{staticClass:"pic",attrs:{src:a("81db")}})]),i("div",{staticClass:"out_right"},[i("img",{staticClass:"pic",attrs:{src:a("47fb")}})]),i("div",{staticClass:"out_top"},[i("img",{staticClass:"pic",attrs:{src:a("d3a7")}})]),i("div",{staticClass:"out_bottom"},[i("img",{staticClass:"pic",attrs:{src:a("3bc4")}})]),i("span",{staticClass:"in_front"},[i("img",{staticClass:"in_pic",attrs:{src:a("9dd5")}})]),i("span",{staticClass:"in_back"},[i("img",{staticClass:"in_pic",attrs:{src:a("5b0e")}})]),i("span",{staticClass:"in_left"},[i("img",{staticClass:"in_pic",attrs:{src:a("695d")}})]),i("span",{staticClass:"in_right"},[i("img",{staticClass:"in_pic",attrs:{src:a("e688")}})]),i("span",{staticClass:"in_top"},[i("img",{staticClass:"in_pic",attrs:{src:a("9184")}})]),i("span",{staticClass:"in_bottom"},[i("img",{staticClass:"in_pic",attrs:{src:a("ff3c")}})])])])}],h={name:"homeBox"},g=h,_=(a("1a3e"),Object(l["a"])(g,f,v,!1,null,"0cd19ddb",null)),b=_.exports,y={name:"home",components:{HomeBox:b}},C=y,x=Object(l["a"])(C,p,m,!1,null,"44bccb40",null),w=x.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{attrs:{id:"user"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[a("span",{staticStyle:{"font-size":"35px"}},[t._v("个人信息")]),a("br"),a("table",{staticClass:"table table-hover"},[a("thead",[a("tr",[t._m(0),a("td",[a("br"),a("button",{staticClass:"btn btn-light glyphicon glyphicon-user"},[t._v(" 更改个人头像")]),a("br"),a("button",{staticClass:"btn btn-info glyphicon glyphicon-tasks",on:{click:t.modifyUser}},[t._v("\n                                    "+t._s(t.modifyOrSave))]),a("br"),a("br"),a("button",{staticClass:"btn btn-primary glyphicon glyphicon-lock"},[t._v(" 修改密码")])])])]),a("tbody",[a("tr",[t._m(1),a("td",[a("span",{staticStyle:{"font-size":"20px"}},[t.ifModify?t._e():a("span",[t._v(t._s(t.user.name))]),t.ifModify?a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form form-control",staticStyle:{height:"100%","font-size":"10px"},attrs:{type:"text"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}}):t._e()])])]),a("tr",[t._m(2),a("td",[a("span",{staticStyle:{"font-size":"20px"}},[t.ifModify?t._e():a("span",[t._v(t._s(t.user.email))]),t.ifModify?a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form form-control",staticStyle:{height:"100%","font-size":"10px"},attrs:{type:"text"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}):t._e()])])]),a("tr",[t._m(3),a("td",[a("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.vip_time)+"\n                                    "),a("a",{staticClass:"glyphicon glyphicon-yen btn btn-warning",staticStyle:{"margin-bottom":"5px","margin-left":"15px"},attrs:{href:"/#/pay"}},[t._v("续费")])]),a("br")])])])])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[a("span",{staticStyle:{"font-size":"35px"}},[t._v("订阅信息")]),a("br"),a("table",{staticClass:"table table-hover",staticStyle:{"text-align":"center"}},[a("thead",[a("tr",[t._m(4),a("td",[a("span",{staticStyle:{"font-size":"20px"}},[t._v("管理")]),a("button",{staticClass:"btn btn-success glyphicon glyphicon-plus",staticStyle:{"margin-left":"25px","margin-bottom":"6px"},on:{click:t.addSubscription}}),a("br")])])]),a("tbody",[0==t.subscriptionList.length?a("tr",[t._m(5)]):t._e(),t._l(t.subscriptionList,function(e){return a("tr",{key:e.id},[a("td",[a("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(e.provinceZh)+" - "+t._s(e.cityZh))]),a("br")]),a("td",[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[a("button",{staticClass:"btn btn-info glyphicon glyphicon-map-marker",on:{click:function(a){return t.$emit("getLocation",e.provinceZh,e.cityZh)}}},[t._v("快速定位")]),a("button",{staticClass:"btn btn-danger glyphicon glyphicon-remove",on:{click:function(a){return t.deleteSubscription(e.id)}}},[t._v("移除该地区")])])])])})],2)])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("cloud")],1)])])},$=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",[i("img",{staticClass:"img-thumbnail",attrs:{src:a("47fb")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticStyle:{"font-size":"20px"}},[t._v("姓名")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticStyle:{"font-size":"20px"}},[t._v("邮箱")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticStyle:{"font-size":"20px"}},[t._v("会员剩余")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticStyle:{"font-size":"20px"}},[t._v("地区")]),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2"}},[a("h1",{staticStyle:{"margin-top":"23px"}},[t._v("暂无订阅信息")])])}],k=a("a28e"),O=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},A=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"cloudFlow"}},[a("div",{staticStyle:{height:"40px"},attrs:{id:"clouds"}},[a("div",{staticClass:"cloud x1"}),a("div",{staticClass:"cloud x2"}),a("div",{staticClass:"cloud x3"}),a("div",{staticClass:"cloud x4"})])])}],E={name:"cloudFlow"},M=E,P=(a("7a21"),Object(l["a"])(M,O,A,!1,null,"a65297ac",null)),z=P.exports,I={name:"user",data:function(){return{user:{id:"",name:"请登录",email:"请登录",vip_start:"请登录",vip_stop:"请登录"},vip_time:"请登录",subscription:{id:"",uId:"",provinceZh:"",cityId:"",cityZh:"",ifEmail:""},subscriptionList:[],ifModify:!1,modifyOrSave:"修改个人信息"}},components:{cloud:z},methods:{getUser:function(){var t=this;this.axios({url:"/mobile/user/getUserMessage.action",method:"get"}).then(function(e){if(""!=e.data&&null!=e.data){t.user=e.data;var a=e.data.vip_stop;if(null==a)t.vip_time="未开通会员或已到期";else{var i=k["a"].getTimeSpace((new Date).getTime(),a);i[0]>0?t.vip_time="剩余"+i[0].toFixed(0)+"天":t.vip_time="未开通会员或已到期"}}else t.user.name="请登录",t.user.email="请登录",t.user.vip_stop="请登录",t.vip_time="请登录"}).catch(function(t){console.log(t)})},modifyUser:function(){var t=this;"请登录"==this.user.email?this.$emit("showAlert",!0,"未登录"):1==this.ifModify?/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(this.user.email)?this.axios({url:"/mobile/user/updateEmailAndName.action",method:"post",data:this.user}).then(function(e){1==e.data?(t.modifyOrSave="修改个人信息",t.ifModify=!1,t.$emit("showAlert",!0,"修改成功"),t.$emit("getUser"),t.getUser()):-1==e.data?t.$emit("showAlert",!0,"未登录"):0==e.data?t.$emit("showAlert",!0,"请填写正确邮箱"):2==e.data&&t.$emit("showAlert",!0,"服务器无响应,请稍后重试")}).catch(function(t){console.log(t)}):this.$emit("showAlert",!0,"请填写正确邮箱"):(this.ifModify=!0,this.modifyOrSave="保存")},getSubscription:function(){var t=this;this.axios({url:"/mobile/user/getSubscription.action",method:"get"}).then(function(e){null==e.data?t.$emit("showAlert",!0,"请登录"):t.subscriptionList=e.data}).catch(function(t){console.log(t)})},addSubscription:function(){var t=this,e=confirm("订阅当前选中的城市?");1==e&&this.axios({url:"/mobile/user/addSubscription.action",method:"get"}).then(function(e){1==e.data?(t.getSubscription(),t.$emit("showAlert",!0,"订阅成功")):0==e.data?t.$emit("showAlert",!0,"请先登录,若已登录请稍后重试"):-1==e.data?t.$emit("showAlert",!0,"订阅失败,已经订阅该地区"):2==e.data?t.$emit("showAlert",!0,"订阅失败,当前订阅个数已达到上限,开通会员可以提升上限"):3==e.data&&t.$emit("showAlert",!0,"抱歉!订阅失败,当前订阅个数已达到上限")})},deleteSubscription:function(t){var e=this,a=confirm("取消订阅该城市?");1==a&&this.axios({url:"/mobile/user/deleteSubscription.action",method:"get",params:{id:t}}).then(function(t){1==t.data?(e.getSubscription(),e.$emit("showAlert",!0,"移除成功!")):-1==t.data?e.$emit("showAlert",!0,"移除失败!登录信息已过期"):0==t.data&&e.$emit("showAlert",!0,"移除失败!服务器无响应")}).catch(function(t){console.log(t)})}},mounted:function(){this.getUser(),this.getSubscription()},filters:{formatDate:function(t){if("请先登录"==t)return null;var e=new Date(t),a=e.getFullYear(),i=e.getMonth()+1;i=i<10?"0"+i:i;var s=e.getDate();s=s<10?"0"+s:s;var n=e.getHours();n=n<10?"0"+n:n;var r=e.getMinutes();r=r<10?"0"+r:r;var o=e.getSeconds();return o=o<10?"0"+o:o,a+"-"+i+"-"+s+" "+n+":"+r+":"+o}}},U=I,R=Object(l["a"])(U,S,$,!1,null,"3c744a64",null),j=R.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{attrs:{id:"weather"}},[t.loading?i("img",{staticStyle:{position:"absolute","z-index":"9999",height:"681px",width:"1110px"},attrs:{src:a("306c"),oncontextmenu:"return false",onselectstart:"return false",ondragstart:"return false"}}):t._e(),i("button",{staticClass:"alert alert-info col glyphicon glyphicon-hand-right",on:{click:t.getWeatherByCityId}},[t._v("\n        点我获取最新信息")]),i("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[t._l(t.weatherArray.slice(0,1),function(e){return i("div",{key:e.id,staticClass:"row"},[i("div",{staticClass:"col-md-2"},[i("img",{staticStyle:{width:"80%"},attrs:{src:t.wea_img,oncontextmenu:"return false",onselectstart:"return false",ondragstart:"return false"}})]),i("div",{staticClass:"col-md-2 alert alert-warning"},[i("span",{staticStyle:{"font-size":"40px"}},[t._v("地区")]),i("br"),i("span",{staticStyle:{"font-size":"22px"}},[t._v(t._s(t.cityZh))])]),i("div",{staticClass:"col-md-3"},[i("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[i("span",{staticStyle:{"font-size":"18px"}},[i("b",[t._v("天气:")]),t._v(" "+t._s(e.wea)+"\n                    ")]),i("br"),i("span",{staticStyle:{"font-size":"18px"}},[i("b",[t._v("温度:")]),t._v(" "+t._s(e.tem)+"\n                    ")]),i("br"),i("span",{staticStyle:{"font-size":"18px"}},[i("b",[t._v("风速:")]),t._v(" "+t._s(e.win_speed)+"\n                    ")]),i("br"),i("span",{staticStyle:{"font-size":"18px"}},[i("b",[t._v("湿度:")]),t._v(" "+t._s(e.humidity)+"\n                    ")])])]),i("div",{staticClass:"col-md-3"},[i("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[i("span",{staticStyle:{"font-size":"18px"}},[i("b",[t._v("白天温度:")]),t._v(" "+t._s(e.tem1)+"\n                    ")]),i("br"),i("span",{staticStyle:{"font-size":"18px"}},[i("b",[t._v("夜晚温度:")]),t._v(" "+t._s(e.tem2)+"\n                    ")]),i("br"),i("span",{staticStyle:{"font-size":"18px"}},[i("b",[t._v("空气质量:")]),t._v(" "+t._s(e.air_level)+"\n                    ")]),i("br"),i("span",{staticStyle:{"font-size":"18px"}},[i("b",[t._v("空气指数:")]),t._v(" "+t._s(e.air)+"\n                    ")])])]),t._m(0,!0)])}),i("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[i("div",{staticClass:"row"},[t._l(t.hoursArray,function(e){return i("div",{key:e.id,staticClass:"col"},[i("span",{staticStyle:{"font-size":"13px"}},[t._v("\n                        "+t._s(e.day)+"\n                    ")]),i("br"),i("span",{staticStyle:{"font-size":"18px"}},[t._v("\n                        "+t._s(e.tem)+"\n                    ")]),i("br"),i("span",{staticStyle:{"font-size":"18px"}},[t._v("\n                        "+t._s(e.wea)+"\n                    ")]),i("br")])}),i("div",{staticClass:"col-md-1"})],2)])],2),t._l(t.weatherArray.slice(0,1),function(e){return i("div",{key:e.id,staticClass:"alert alert-info "},[i("font",{staticClass:"glyphicon glyphicon-tags",attrs:{size:"3"}},[t._v("\n            Tip: "+t._s(e.air_tips)+"\n        ")])],1)}),i("div",{staticClass:"alert alert-primary",staticStyle:{height:"36%"},attrs:{role:"alert"}},[t._m(1),i("br"),i("div",{staticClass:"row"},t._l(t.weatherArray.slice(1,7),function(e){return i("div",{key:e.id,staticClass:"col-md-2"},[i("img",{attrs:{src:t.getImgUrl(e.wea_img),oncontextmenu:"return false",onselectstart:"return false",ondragstart:"return false"}}),i("br"),i("h5",[t._v(t._s(e.day))]),i("h5",[t._v(t._s(e.wea))])])}),0)])],2)},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("span",{staticStyle:{"font-size":"18px"}},[a("b",[t._v("预警信息:")]),t._v(" 无\n                    ")]),a("br")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("未来六日天气趋势 "),a("span",{staticClass:"glyphicon glyphicon-stats"})])}],L={name:"weather",data:function(){return{weather:{day:"",date:"",week:"",wea:"",wea_img:"",air:"",humidity:"",air_level:"",air_tips:"",tem1:"",tem2:"",tem:"",win_speed:""},hoursArray:[],weatherArray:[],cityZh:"",wea_img:"",loading:!1}},methods:{getWeatherByCityId:function(){var t=this;this.loading=!0,this.axios({method:"get",url:"/mobile/weather/getWeather.action"}).then(function(e){var i=e.data[0],s=e.data[1],n=e.data[2];t.weatherArray=JSON.parse(i),t.hoursArray=JSON.parse(s),t.cityZh=n,t.wea_img=a("6602")("./"+t.weatherArray[0].wea_img+".png"),t.$router.push("/weather"),t.loading=!1}).catch(function(t){console.log(t)})},getImgUrl:function(t){return a("6602")("./"+t+".png")}},created:function(){this.getWeatherByCityId()}},B=L,F=Object(l["a"])(B,N,T,!1,null,"b2483fce",null),V=F.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{attrs:{id:"pay"}},[a("div",{staticClass:"row",staticStyle:{}},t._l(t.paymentObjectArray,function(e){return a("div",{key:e.id,staticClass:"col-md-2 product"},[a("div",{staticClass:"alert alert-success product"},[a("h3",[t._v(t._s(e.name))]),t._v(t._s(e.description)+"\n                "),a("h2",{staticStyle:{color:"red"}},[t._v("￥"+t._s(e.price/100))]),a("button",{staticClass:"btn btn-warning",on:{click:function(a){return t.addOrderGetToken(e.price)}}},[t._v("购买")])])])}),0),t._m(0),a("form",{attrs:{id:"payForm",action:"http://localhost:8760/pay/pay/payIndex.action",method:"get"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.payToken,expression:"payToken"}],attrs:{name:"token",type:"hidden"},domProps:{value:t.payToken},on:{input:function(e){e.target.composing||(t.payToken=e.target.value)}}})])])},G=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row",staticStyle:{"text-align":"center","padding-top":"30.5%"}},[i("div",{staticClass:"col"},[i("hr"),i("img",{staticStyle:{height:"45px"},attrs:{src:a("083c"),oncontextmenu:"return false",onselectstart:"return false",ondragstart:"return false"}}),i("br"),i("h3",[t._v("目前仅支持银联支付")])])])}],D=a("b9ef"),W=D["a"],J=(a("b004"),Object(l["a"])(W,Z,G,!1,null,"b181dee6",null)),q=J.exports,Q=a("252b");i["a"].use(d["a"]);var X=new d["a"]({routes:[{path:"/home",component:w},{path:"/user",component:j},{path:"/weather",component:V},{path:"/pay",component:q},{path:"/about",component:Q["default"]},{path:"/",redirect:"/home"}]}),H=X,K=(a("4989"),a("bc3a")),Y=a.n(K);i["a"].prototype.axios=Y.a,i["a"].config.productionTip=!1,new i["a"]({router:H,render:function(t){return t(u)}}).$mount("#app"),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&(window.location.href="/mobile.html")},6563:function(t,e,a){"use strict";var i=a("3e74"),s=a.n(i);s.a},"65f2":function(t,e,a){},6602:function(t,e,a){var i={"./bingbao.png":"ecfb","./lei.png":"5699","./qing.png":"81db","./shachen.png":"a90b","./wu.png":"d3a7","./xiaoyu2.png":"ff3c","./xue.png":"3bc4","./yin.png":"695d","./yu.png":"9dd5","./yujiaxue.png":"5b0e","./yun.png":"e688","./zhenyu.png":"9184"};function s(t){var e=n(t);return a(e)}function n(t){var e=i[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id="6602"},"66a8":function(t,e,a){},"695d":function(t,e,a){t.exports=a.p+"img/yin.8b46895d.png"},"6e5e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"register"}},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row",attrs:{id:"register"}},[t._m(1),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"col-auto"},[a("div",{staticClass:"input-group"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"inlineFormInputGroup",placeholder:"Email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})])]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"input-group"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"inlineFormInputGroup",placeholder:"Name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})])]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"input-group"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inlineFormInputGroup",placeholder:"Password",onKeypress:"javascript:if(event.keyCode == 32)event.returnValue = false;"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})])]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"input-group"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.confirmPassword,expression:"data.confirmPassword"}],staticClass:"form-control",attrs:{type:"password",id:"inlineFormInputGroup",placeholder:"ConfirmPassword",onKeypress:"javascript:if(event.keyCode == 32)event.returnValue = false;"},domProps:{value:t.data.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.data,"confirmPassword",e.target.value)}}})])])]),a("div",{staticClass:"col-md-1"})])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",attrs:{id:"title"}},[t._v("欢迎加入Aweather")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-2"},[i("img",{staticStyle:{height:"85px"},attrs:{src:a("e53b"),oncontextmenu:"return false",onselectstart:"return false",ondragstart:"return false"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("邮箱")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("姓名")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("密码")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("确认密码")])])}],n={name:"register",data:function(){return{}},components:{},props:["user","data"],methods:{}},r=n,o=(a("0f82"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"50302cdc",null);e["a"]=l.exports},"6f83":function(t,e,a){},"7a21":function(t,e,a){"use strict";var i=a("61e7"),s=a.n(i);s.a},"81db":function(t,e,a){t.exports=a.p+"img/qing.69a6aecc.png"},"89ac":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 div_middle"},[a("div",{staticClass:"row",staticStyle:{height:"15px"}}),a("h1",[t._v("当前地区")]),a("span",[a("font",{staticClass:"glyphicon glyphicon-map-marker",attrs:{size:"6",color:"silver"}},[t._v(t._s(t.location))])],1)]),t._m(0),a("div",{staticClass:"col-md-5",attrs:{align:"left"}},[a("br"),a("font",{attrs:{face:"微软雅黑",size:"8"}},[t._v("Aweather")]),a("h4",{attrs:{align:"center"}},[t._v("--我的智能天气管家"),""!=t.userName?a("span",[t._v("。欢迎您,"+t._s(t.userName))]):t._e()])],1),t._m(1)])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-2",attrs:{align:"right"}},[i("img",{staticStyle:{height:"118px"},attrs:{src:a("e53b"),oncontextmenu:"return false",onselectstart:"return false",ondragstart:"return false"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-2 div_middle",attrs:{align:"right"}},[i("a",{attrs:{href:"https://blog.csdn.net/weixin_43636289",target:"_blank"}},[i("img",{staticStyle:{height:"100%"},attrs:{src:a("47fb"),oncontextmenu:"return false",onselectstart:"return false",ondragstart:"return false"}})])])}],n={name:"header",data:function(){return{}},props:["userName","location"],methods:{}},r=n,o=(a("18d4"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"062a785e",null);e["a"]=l.exports},"8e87":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",[i("div",{staticStyle:{"text-align":"center"}},[i("img",{staticStyle:{height:"360px","margin-left":"60px"},attrs:{src:a("52a0")}}),i("marquee",{staticStyle:{"text-align":"center"},attrs:{direction:"up",scrollamount:"2",height:"276"}},[i("ul",{staticStyle:{"font-size":"18px","line-height":"36px","list-style":"none"}},[i("li",[t._v("作品: Aweather")]),i("li",[t._v("功能: 获取全国各地天气数据,提供订阅功能")]),i("li",[t._v("创作人: 吴正华")]),i("li",[t._v("创作时间: 2018-2019")]),i("li",[t._v("整体架构: 面向服务的分布式架构,前后端分离,restful风格.")]),i("li",[t._v("服务器: 十台后端服务器(tomcat)+一台前端服务器(vue-cli)")]),i("li",[t._v("前端: vue,jquery,bootstrap,webpack,css,javascript,vant")]),i("li",[t._v("后端: Java")]),i("li",[t._v("Java框架: SpringMVC,MyBatis,Spring,Spring Boot,Spring Cloud")]),i("li",[t._v("使用工具: IDEA,VSCode,Postman,natapp,Navicat,Redis Desktop Manager")]),i("li",[t._v("调试浏览器: FireFox,Google Chrome,IE(支付服务)")]),i("li",[t._v("分布式解决方案: SpringCloud")]),i("li",[t._v("分布式中间件: ActiveMQ,Redis")]),i("li",[t._v("鸣谢: 我自己")]),i("li",[t._v("仅供学习,不作任何商业用途")]),i("li",[t._v("感谢您的体验与支持!")]),i("li",[t._v("2019-08-17")])])])],1)])},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},9184:function(t,e,a){t.exports=a.p+"img/zhenyu.6ceab0a5.png"},"9dd5":function(t,e,a){t.exports=a.p+"img/yu.f937ce66.png"},a28e:function(t,e,a){"use strict";var i={calculateDiffTime:function(t,e){var a=0,i=0;t<e?(a=t,i=e):(a=e,i=t);var s=i-a,n=Math.floor(s/86400/365);s%=31536e3;var r=Math.floor(s/86400/30);s%=2592e3;var o=Math.floor(s/86400);s%=86400;var l=Math.floor(s/3600);s%=3600;var c=Math.floor(s/60);s%=60;var u=s;return[n,r,o,l,c,u]},getTimeSpace:function(t,e){var a=e-t,i=a/864e5,s=a/36e5,n=a/6e4;return[i,s,n]}};e["a"]=i},a4d6:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("a",{staticClass:"navbar-brand",attrs:{href:"/#/home"}},[t._v("Aweather主页")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item",class:{active:"/weather"===t.$route.path}},[t._m(1)]),a("li",{staticClass:"nav-item",class:{active:"/user"===t.$route.path}},[a("a",{staticClass:"nav-link",attrs:{href:"/#/user"}},[t._v("用户中心")])]),a("li",{staticClass:"nav-item",class:{active:"/about"===t.$route.path}},[a("a",{staticClass:"nav-link",attrs:{href:"/#/about"}},[t._v("关于我")])])])]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"btn btn-success glyphicon glyphicon-map-marker",on:{click:function(e){return t.$emit("getCity")}}},[t._v(" 定位\n            ")])]),a("div",{staticClass:"col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProvince,expression:"selectProvince"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectProvince=e.target.multiple?a:a[0]},t.getCityByProvince]}},[a("option",{attrs:{selected:""}},[t._v("-选择省份-")]),t._l(t.provinceArrray,function(e){return a("option",{key:e.id},[t._v(t._s(e))])})],2)]),a("div",{staticClass:"col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectCity,expression:"selectCity"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectCity=e.target.multiple?a:a[0]},t.getLocation]}},[a("option",{attrs:{selected:""}},[t._v("-选择地区-")]),t._l(t.cityArray,function(e){return a("option",{key:e.id},[t._v(t._s(e))])})],2)]),a("div",{staticClass:"col-md-1",attrs:{align:"right"}},[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"..."}},[t.ifLogin?t._e():a("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#loginAndRegisterModal"}},[t._v("\n                    登录\n                ")]),t.ifLogin?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.logout}},[t._v("\n                    注销\n                ")]):t._e()])])]),t._m(2)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"nav-link",attrs:{href:"/#/weather"}},[t._v("天气预报 "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div_middle",staticStyle:{"margin-top":"5px"}},[a("h5",[a("span",{staticStyle:{color:"black","font-size":"15px"}},[t._v("Copyright ©2019 WuZhenghua")])])])}],n={name:"footer",data:function(){return{ifLogin:!1,selectProvince:"-选择省份-",selectCity:"-选择地区-",provinceArrray:[],cityArray:[]}},methods:{logout:function(){var t=this,e=confirm("是否注销当前用户?");1==e&&this.axios({url:"/mobile/user/logout.action",method:"get"}).then(function(e){1==e.data?(t.$emit("clearUser"),t.ifLogin=!1,t.$emit("showAlert","true","注销成功!")):alert("服务器错误!")}).catch(function(t){alert("服务器错误!"),console.log(t)})},getAllProvince:function(){var t=this;this.axios({method:"get",url:"/mobile/city/getAllProvince.action"}).then(function(e){t.provinceArrray=e.data}).catch(function(t){console.log(t)})},getCityByProvince:function(){var t=this;this.selectCity="-选择地区-",this.axios({method:"get",params:{province:this.selectProvince},url:"/mobile/city/getCityByProvince.action"}).then(function(e){t.cityArray=e.data}).catch(function(t){console.log(t)})},getLocation:function(){"-选择地区-"!=this.selectCity&&this.$emit("getLocation",this.selectProvince,this.selectCity)}},computed:{},mounted:function(){this.getAllProvince(),this.getCityByProvince()}},r=n,o=(a("6563"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"54023398",null);e["a"]=l.exports},a90b:function(t,e,a){t.exports=a.p+"img/shachen.e75db365.png"},b004:function(t,e,a){"use strict";var i=a("6f83"),s=a.n(i);s.a},b303:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"demo"}},[a("div",{attrs:{id:"slider"}},[a("div",{attrs:{id:"slider_bg"}}),a("span",{attrs:{id:"label"}},[t._v(">>")]),a("span",{attrs:{id:"labelTip"}},[t._v("拖动滑块验证")])])])}],n=(a("4cd2"),{name:"sliderCheck",methods:{sliderUnlock:function(){var t=this,e=new SliderUnlock("#slider",{successLabelTip:"完成验证!"},function(){t.$emit("doRegister"),e.init()});e.init()}},mounted:function(){this.sliderUnlock()}}),r=n,o=(a("3788"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"7f164726",null);e["a"]=l.exports},b9ef:function(t,e,a){"use strict";(function(t){a("6b54"),a("96cf");var i=a("3b8d");e["a"]={name:"pay",data:function(){return{paymentObject:{id:"",name:"",price:"",description:""},paymentObjectArray:[],payToken:"",vip_time:"0"}},methods:{addOrderGetToken:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(a){var i,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=!0,e.next=3,this.axios({method:"post",url:"/mobile/pay/createVipOrder.action",data:a.toString()}).then(function(t){"202"==t.data?i=!1:s.payToken=t.data}).catch(function(t){console.log(t)});case 3:1==i?t("#payForm").submit():this.$emit("showAlert","true","请先登录");case 4:case"end":return e.stop()}},e,this)}));function a(t){return e.apply(this,arguments)}return a}(),toPay:function(t){this.axios({url:"/pay/pay/payIndex.action",method:"get",params:{token:t}}).then(function(t){}).catch(function(t){console.log(t)})},getVipItem:function(){var t=this;this.axios({method:"get",url:"/mobile/pay/getAllVipItem.action"}).then(function(e){t.paymentObjectArray=e.data}).catch(function(t){console.log(t)})}},mounted:function(){this.getVipItem()}}}).call(this,a("1157"))},d04c:function(t,e,a){},d3a7:function(t,e,a){t.exports=a.p+"img/wu.aaa02e6b.png"},dd2c:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row",attrs:{id:"login"}},[t._m(1),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"col-auto"},[a("div",{staticClass:"input-group"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"inlineFormInputGroup",placeholder:"Email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})])]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"input-group"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inlineFormInputGroup",placeholder:"Password",onKeypress:"javascript:if(event.keyCode == 32)event.returnValue = false;"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})])])]),a("div",{staticClass:"col-md-1"})])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",attrs:{id:"title"}},[t._v("登录Aweather")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-2"},[i("img",{staticStyle:{height:"85px"},attrs:{src:a("e53b"),oncontextmenu:"return false",onselectstart:"return false",ondragstart:"return false"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("邮箱")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("密码")])])}],n={name:"login",props:["user"]},r=n,o=a("2877"),l=Object(o["a"])(r,i,s,!1,null,"c5d68520",null);e["a"]=l.exports},e53b:function(t,e,a){t.exports=a.p+"img/index_logo.e4cc5b69.gif"},e688:function(t,e,a){t.exports=a.p+"img/yun.7315318c.png"},e806:function(t,e,a){},ecfb:function(t,e,a){t.exports=a.p+"img/bingbao.edae0112.png"},f829:function(t,e){},ff1c:function(t,e,a){"use strict";(function(t){a("a481"),a("7f7f"),a("f9e3");var i=a("89ac"),s=a("a4d6"),n=a("dd2c"),r=a("6e5e"),o=a("b303");e["a"]={data:function(){return{user:{name:"",email:"",password:"",created:""},data:{confirmPassword:""},userName:"",alertMsg:"通知",confirmAlertMsg:"通知",location:"定位中...",loginOrRegister:"login",showCheck:!1}},components:{vHeader:i["a"],vFooter:s["a"],login:n["a"],register:r["a"],sliderCheck:o["a"]},methods:{doLogin:function(){var e=this;"login"==this.loginOrRegister?(this.loginOrRegisterSpan(!0,"登陆中..."),this.axios({method:"post",url:"/mobile/user/doLogin.action",data:this.user}).then(function(a){var i="登录成功";1==a.data&&(e.getUser(),t("#loginAndRegisterModal").modal("hide"),t("#loginOrRegisterSpan").html(""),e.$refs.routerView.getUser(),e.clearUser(),e.showAlert(!0,"欢迎您!"+e.user.name)),2==a.data&&(i="密码错误"),3==a.data&&(i="邮箱不存在"),4==a.data&&(i="邮箱格式有误"),5==a.data&&(i="该邮箱已被注册"),6==a.data&&(i="遇到未知错误,请稍后重试"),1!=a.data&&t("#loginOrRegisterSpan").html("<span class='glyphicon glyphicon-remove' style='color: red'>"+i+"</span>")}).catch(function(t){console.log(t)})):(this.loginOrRegister="login",this.clearUser())},registerToCheck:function(){if("register"==this.loginOrRegister){var e=this.user.email,a=(this.user.name,this.user.password),i=this.data.confirmPassword,s="";/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e)?""==a?(s="请填写密码",this.loginOrRegisterSpan(!1,s)):a!=i?(s="两次输入的密码不同",this.loginOrRegisterSpan(!1,s)):(this.showCheck=!0,t("#loginAndRegisterModal").modal("hide")):(s="请正确填写邮箱",this.loginOrRegisterSpan(!1,s))}else this.loginOrRegister="register",this.clearUser()},doRegister:function(){var e=this,a="";this.axios({url:"/mobile/user/doRegist.action",method:"post",data:this.user}).then(function(i){2==i.data&&(a="邮箱不能为空"),3==i.data&&(a="密码不能为空"),4==i.data&&(a="邮箱格式有误"),5==i.data&&(a="该邮箱已被注册"),6==i.data&&(a="遇到未知错误,请稍后重试"),1==i.data?(a="注册成功",e.clearUser(),e.loginOrRegisterSpan(!0,a),t("#loginAndRegisterModal").modal("show"),e.loginOrRegister="login"):(e.loginOrRegisterSpan(!1,a),e.clearUser(),e.showAlert(!0,"抱歉!注册失败,"+a))}).catch(function(t){console.log(t)}),this.showCheck=!1},getUser:function(){var t=this;this.axios({url:"/mobile/user/getUserMessage.action",method:"get"}).then(function(e){""!=e.data&&null!=e.data&&(t.user=e.data,t.userName=t.user.name,t.$refs.footer.ifLogin=!0)}).catch(function(t){console.log(t)})},changeUserName:function(t){this.userName=t},showAlert:function(e,a){e?(t("#alertModal").modal("show"),this.alertMsg=a):(t("#alertModal").modal("hide"),this.alertMsg=a)},loginOrRegisterSpan:function(e,a){e?t("#loginOrRegisterSpan").html("<span class='glyphicon glyphicon-ok' style='color: green'>"+a+"</span>"):t("#loginOrRegisterSpan").html("<span class='glyphicon glyphicon-remove' style='color: red'>"+a+"</span>"),""!=a&&null!=e||t("#loginOrRegisterSpan").html("")},clearUser:function(){this.user.email="",this.user.password="",this.user.name="",this.user.created="",this.userName="",this.data.confirmPassword="",this.loginOrRegisterSpan(null,""),"/user"==this.$route.path&&(this.$refs.routerView.getSubscription(),this.$refs.routerView.getUser())},getLocation:function(t,e){this.location=e,this.setCityIdToCookie(t,this.location)},setCityIdToCookie:function(t,e){var a=this;this.axios({method:"get",url:"/mobile/city/setCityIdToCookie.action",params:{provinceZh:t,cityZh:e}}).then(function(t){"/weather"==a.$route.path&&a.$refs.routerView.getWeatherByCityId()}).catch(function(t){console.log(t)})},removeCityIdFromCookie:function(){this.axios({method:"get",url:"/mobile/city/removeCityIdFromCookie.action"}).catch(function(t){console.log(t)})},getCity:function(){var t=this;this.removeCityIdFromCookie(),this.$refs.footer.selectCity="-选择地区-",this.$refs.footer.selectProvince="-选择省份-",this.location="定位中...";var e=new BMap.Geolocation;e.getCurrentPosition(function(e){var a=e.address.city,i=e.address.province;a=a.replace("市",""),a=a.replace("区",""),a=a.replace("县",""),i=i.replace("省",""),i=i.replace("市",""),i=i.replace("特别行政区",""),t.setCityIdToCookie(i,a),t.location=a},function(e){t.location="定位失败",alert("请确定是否开启了定位,或者手动选择位置")},{provider:"baidu"})}},mounted:function(){this.getUser(),this.getCity()}}}).call(this,a("1157"))},ff3c:function(t,e,a){t.exports=a.p+"img/xiaoyu2.bba47525.png"}});
//# sourceMappingURL=index.1189c709.js.map