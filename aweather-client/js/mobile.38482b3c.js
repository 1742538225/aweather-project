(function(t){function e(e){for(var n,a,s=e[0],c=e[1],l=e[2],p=0,d=[];p<s.length;p++)a=s[p],o[a]&&d.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,s=1;s<i.length;s++){var c=i[s];0!==o[c]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},o={mobile:0},r=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;r.push([1,"chunk-vendors"]),i()})({1:function(t,e,i){t.exports=i("6edd")},2587:function(t,e,i){"use strict";var n=i("737d"),o=i.n(n);o.a},"3bc4":function(t,e,i){t.exports=i.p+"img/xue.a7df0081.png"},"3e2c":function(t,e,i){},"4cd2":function(t,e,i){"use strict";(function(t){i("7514");(function(t,e,i,n){function o(e,i,n){var o=this,r=o.checkElm(e)?t(e):t;n=o.checkFn(n)?n:function(){};var a={successLabelTip:"Successfully Verified",duration:200,swipestart:!1,min:0,max:r.width(),index:0,IsOk:!1,lableIndex:0};a=t.extend(a,i||{}),o.elm=r,o.opts=a,o.swipestart=a.swipestart,o.min=a.min,o.max=a.max,o.index=a.index,o.isOk=a.isOk,o.labelWidth=o.elm.find("#label").width(),o.sliderBg=o.elm.find("#slider_bg"),o.lableIndex=a.lableIndex,o.success=n}o.prototype.init=function(){var t=this;t.updateView(),t.elm.find("#label").on("mousedown",function(i){var n=i||e.event;t.lableIndex=n.clientX-this.offsetLeft,t.handerIn()}).on("mousemove",function(e){t.handerMove(e)}).on("mouseup",function(e){t.handerOut()}).on("mouseout",function(e){t.handerOut()}).on("touchstart",function(i){var n=i||e.event;t.lableIndex=n.originalEvent.touches[0].pageX-this.offsetLeft,t.handerIn()}).on("touchmove",function(e){t.handerMove(e,"mobile")}).on("touchend",function(e){t.handerOut()})},o.prototype.handerIn=function(){var t=this;t.swipestart=!0,t.min=0,t.max=t.elm.width()},o.prototype.handerOut=function(){var t=this;t.swipestart=!1,t.index<t.max&&t.reset()},o.prototype.handerMove=function(t,i){var n=this;n.swipestart&&(t.preventDefault(),t=t||e.event,n.index="mobile"==i?t.originalEvent.touches[0].pageX-n.lableIndex:t.clientX-n.lableIndex,n.move())},o.prototype.move=function(){var e=this;e.index+e.labelWidth>=300&&(e.index=300-e.labelWidth-2,e.swipestart=!1,e.isOk=!0),e.index<0&&(e.index=e.min,e.isOk=!1),e.index+e.labelWidth+2==300&&e.isOk&&(t("#label").unbind().next("#labelTip").text(e.opts.successLabelTip).css({color:"#fff"}),e.success()),e.updateView()},o.prototype.updateView=function(){var t=this;t.sliderBg.css("width",t.index),t.elm.find("#label").css("left",t.index+"px")},o.prototype.reset=function(){var t=this;t.index=0,t.sliderBg.animate({width:0},t.opts.duration),t.elm.find("#label").animate({left:t.index},t.opts.duration).next("#lableTip").animate({opacity:1},t.opts.duration),t.updateView()},o.prototype.checkElm=function(e){if(t(e).length>0)return!0;throw"this element does not exist."},o.prototype.checkFn=function(t){if("function"===typeof t)return!0;throw"the param is not a function."},e["SliderUnlock"]=o})(t,window,document)}).call(this,i("1157"))},"50c5":function(t,e,i){"use strict";var n=i("3e2c"),o=i.n(n);o.a},"52a0":function(t,e,i){t.exports=i.p+"img/LOGO_12_透明背景.69ab5c2b.png"},5699:function(t,e,i){t.exports=i.p+"img/lei.290732e7.png"},"5b0e":function(t,e,i){t.exports=i.p+"img/yujiaxue.a7df0081.png"},"65cf":function(t,e,i){},6602:function(t,e,i){var n={"./bingbao.png":"ecfb","./lei.png":"5699","./qing.png":"81db","./shachen.png":"a90b","./wu.png":"d3a7","./xiaoyu2.png":"ff3c","./xue.png":"3bc4","./yin.png":"695d","./yu.png":"9dd5","./yujiaxue.png":"5b0e","./yun.png":"e688","./zhenyu.png":"9184"};function o(t){var e=r(t);return i(e)}function r(t){var e=n[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id="6602"},"695d":function(t,e,i){t.exports=i.p+"img/yin.8b46895d.png"},"6edd":function(t,e,i){"use strict";i.r(e);i("4917"),i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("header",[i("nav-bar",{attrs:{"left-text":"切换城市",fixed:!0},on:{"click-right":t.getCity,"click-left":function(e){t.showPicker=!0}}},[i("span",{staticStyle:{"font-size":"30px"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.location))]),i("icon",{staticStyle:{"font-size":"30px"},attrs:{slot:"right",name:"location-o"},slot:"right"})],1)],1),i("pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("transition",{attrs:{mode:"out-in"}},[i("router-view",{ref:"routerView",on:{setLocation:t.setLocation}})],1)],1),i("footer",[i("div",{staticStyle:{"background-color":"rgb(133, 216, 255)",color:"black","font-size":"15px","padding-bottom":"50px","text-align":"center"}},[t._v("\n            Copyright ©2019 WuZhenghua")]),i("tabbar",{attrs:{route:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("tabbar-item",{attrs:{icon:"home-o",replace:"",to:"/home"}},[t._v("首页")]),i("tabbar-item",{attrs:{icon:"flower-o",replace:"",to:"/weather"}},[t._v("天气")]),i("tabbar-item",{attrs:{icon:"friends-o",replace:"",to:"/user"}},[t._v("用户")]),i("tabbar-item",{attrs:{icon:"info-o",replace:"",to:"/about"}},[t._v("关于")])],1)],1),i("popup",{attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[i("picker",{attrs:{columns:t.columns,"show-toolbar":"",title:"切换城市"},on:{change:t.onChange,cancel:function(e){t.showPicker=!1},confirm:t.getLocation}})],1)],1)},r=[],a=(i("a481"),i("96cf"),i("3b8d")),s=(i("ab71"),i("58e6")),c=(i("8a58"),i("e41f")),l=(i("5f5f"),i("f253")),u=(i("66b9"),i("b650")),p=(i("c3a6"),i("ad06")),d=(i("5246"),i("6b41")),f=(i("a52c"),i("2ed4")),h=(i("537a"),i("ac28")),m=(i("f9e3"),i("8c4f")),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{attrs:{id:"weather"}},[i("div",{staticStyle:{"margin-top":"50px","padding-top":"25px","padding-bottom":"25px"}},[i("img",{staticStyle:{height:"70px"},attrs:{src:t.wea_img}}),i("div",{staticStyle:{"font-size":"25px"}},[t._v("地区:"+t._s(t.cityZh))]),t._l(t.weatherArray.slice(0,1),function(e){return i("div",{key:e.id,staticStyle:{"font-size":"15px","padding-left":"15px","padding-right":"15px"}},[t._v("\n            Tip:"+t._s(e.air_tips)+"\n        ")])})],2),i("collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[i("collapse-item",{attrs:{title:"今日指标",name:"1",icon:"orders-o"}},t._l(t.weatherArray.slice(0,1),function(e){return i("div",{key:e.id,staticClass:"row",attrs:{id:"todayData"}},[i("div",{staticClass:"col",staticStyle:{"font-size":"15px"}},[i("span",[i("b",[t._v("天气:")]),t._v(" "+t._s(e.wea)+"\n                    ")]),i("br"),i("span",[i("b",[t._v("当前温度:")]),t._v(" "+t._s(e.tem)+"\n                    ")]),i("br"),i("span",[i("b",[t._v("风速:")]),t._v(" "+t._s(e.win_speed)+"\n                    ")]),i("br"),i("span",[i("b",[t._v("湿度:")]),t._v(" "+t._s(e.humidity)+"\n                    ")])]),i("div",{staticClass:"col",staticStyle:{"font-size":"15px"}},[i("span",[i("b",[t._v("白天温度:")]),t._v(" "+t._s(e.tem1)+"\n                    ")]),i("br"),i("span",[i("b",[t._v("夜晚温度:")]),t._v(" "+t._s(e.tem2)+"\n                    ")]),i("br"),i("span",[i("b",[t._v("空气质量:")]),t._v(" "+t._s(e.air_level)+"\n                    ")]),i("br"),i("span",[i("b",[t._v("空气指数:")]),t._v(" "+t._s(e.air)+"\n                    ")])])])}),0),i("collapse-item",{attrs:{title:"今日时报",name:"2",icon:"underway-o"}},[i("div",{staticClass:"row",attrs:{id:"hourData"}},t._l(t.hoursArray,function(e){return i("div",{key:e.id,staticClass:"col",staticStyle:{"margin-bottom":"25px"}},[i("span",{staticStyle:{"font-size":"13px"}},[t._v("\n                        "+t._s(e.day)+"\n                    ")]),i("br"),i("span",{staticStyle:{"font-size":"18px"}},[t._v("\n                        "+t._s(e.tem)+"\n                    ")]),i("br"),i("span",{staticStyle:{"font-size":"16px"}},[t._v("\n                        "+t._s(e.wea)+"\n                    ")]),i("br")])}),0)]),i("collapse-item",{attrs:{title:"未来6日",name:"3",icon:"bar-chart-o"}},[i("div",{staticClass:"row",attrs:{id:"sixDayData"}},t._l(t.weatherArray.slice(1,7),function(e){return i("div",{key:e.id,staticClass:"col",staticStyle:{"margin-bottom":"25px"}},[i("img",{staticStyle:{width:"65px"},attrs:{src:t.getImgUrl(e.wea_img),oncontextmenu:"return false",onselectstart:"return false",ondragstart:"return false"}}),i("br"),i("div",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.day))]),i("div",{staticStyle:{"font-size":"15px"}},[t._v(t._s(e.wea))])])}),0)])],1),i("popup",{staticStyle:{height:"150px",width:"150px",padding:"60px"},model:{value:t.showLoading,callback:function(e){t.showLoading=e},expression:"showLoading"}},[i("loading",{attrs:{type:"spinner",color:"#1989fa"}})],1)],1)},v=[],b=(i("ac1e"),i("543e")),w=(i("342a"),i("1437")),y=(i("5d17"),i("f9bd")),x={name:"weather",data:function(){return{activeNames:["1","2","3"],weather:{day:"",date:"",week:"",wea:"",wea_img:"",air:"",humidity:"",air_level:"",air_tips:"",tem1:"",tem2:"",tem:"",win_speed:""},hoursArray:[],weatherArray:[],cityZh:"",wea_img:"",showLoading:!1}},components:{Collapse:y["a"],CollapseItem:w["a"],Popup:c["a"],Loading:b["a"]},methods:{getWeatherByCityId:function(){var t=this;this.showLoading=!0,this.axios({method:"get",url:"/mobile/weather/getWeather.action"}).then(function(e){var n=e.data[0],o=e.data[1],r=e.data[2];t.weatherArray=JSON.parse(n),t.hoursArray=JSON.parse(o),t.cityZh=r,t.wea_img=i("6602")("./"+t.weatherArray[0].wea_img+".png"),t.$router.push("/weather"),t.showLoading=!1}).catch(function(t){console.log(t)})},getImgUrl:function(t){return i("6602")("./"+t+".png")}},created:function(){this.getWeatherByCityId()}},_=x,k=(i("9c87"),i("2877")),S=Object(k["a"])(_,g,v,!1,null,"5c4d69b7",null),C=S.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{attrs:{id:"user"}},[i("div",{staticClass:"row",staticStyle:{"background-color":"oldlace","margin-top":"65px"}},[t._m(0),i("div",{staticClass:"col-7",staticStyle:{"font-size":"15px","margin-top":"16px"}},[""!=t.user.id&&null!=t.user.id?i("div",[i("div",[t._v("姓名: "+t._s(t.user.name))]),i("div",[t._v("邮箱: "+t._s(t.user.email))]),i("div",[t._v("会员剩余: "+t._s(t.vip_time)+"\n                    "),i("icon",{attrs:{name:"question-o",size:"10px"},on:{click:function(e){t.showPop=!0}}})],1)]):t._e(),""==t.user.id||null==t.user.id?i("div",{staticStyle:{"text-align":"center","font-size":"18px","margin-top":"20px",width:"100%"},on:{click:t.toLoginRegister}},[t._v("\n                快速登录\n            ")]):t._e()]),i("div",{staticClass:"col-1",staticStyle:{position:"flow","padding-top":"30px","font-size":"30px","text-align":"left"}},[i("icon",{attrs:{name:"arrow",size:"35px"},on:{click:t.toLoginRegister}})],1)]),i("div",{staticStyle:{"background-color":"lemonchiffon","margin-top":"25px","padding-bottom":"2px"}},[i("span",{staticStyle:{"text-align":"center","font-size":"20px","margin-left":"8px"}},[i("icon",{staticStyle:{"margin-top":"20px"},attrs:{name:"notes-o"}}),t._v("\n            订阅信息\n            "),i("button",{staticClass:"btn btn-success glyphicon glyphicon-plus",staticStyle:{"margin-left":"10px","margin-bottom":"6px"},on:{click:t.addSubscription}})],1),i("hr"),0==t.subscriptionList.length?i("div",{staticStyle:{"text-align":"center","margin-bottom":"15px"}},[i("span",{staticStyle:{"font-size":"20px"},on:{click:t.toLoginRegister}},[i("b",[t._v("暂无订阅信息")])])]):t._e(),""==t.user.id||null==t.user.id?i("div",{staticStyle:{"text-align":"center","margin-bottom":"15px"}},[i("span",{staticStyle:{"font-size":"20px"},on:{click:t.toLoginRegister}},[i("b",[t._v("登录即可开始订阅管理")])])]):t._e(),t._l(t.subscriptionList,function(e){return i("div",{key:e.id,staticClass:"row",staticStyle:{"margin-bottom":"18px","margin-top":"8px"}},[i("div",{staticClass:"col-6",staticStyle:{"padding-left":"25px","padding-top":"3px"}},[i("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(e.provinceZh)+" - "+t._s(e.cityZh))])]),i("div",{staticClass:"col-6"},[i("button",{staticClass:"btn btn-info glyphicon glyphicon-map-marker",on:{click:function(i){return t.$emit("setLocation",e.cityZh,e.provinceZh)}}},[t._v("定位")]),i("button",{staticClass:"btn btn-danger glyphicon glyphicon-remove",on:{click:function(i){return t.deleteSubscription(e.id)}}},[t._v("移除")])])])})],2),i("popup",{style:{height:"150px",width:"250px"},attrs:{round:""},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[i("div",{staticStyle:{"text-align":"center"}},[i("br"),t._v("\n            该App暂不支持会员续费功能,"),i("br"),t._v("如有需求可以通过PC端访问地址:"),i("br"),t._v("http://wzh.natapp1.cc/#/pay"),i("br"),t._v("进行会员开通续费服务,感谢谅解\n        ")])])],1)},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-3"},[n("img",{staticStyle:{height:"100px"},attrs:{src:i("52a0")}})])}],P=(i("e17f"),i("2241")),O=(i("2994"),i("2bdd")),A=i("a28e"),L={name:"user",components:{List:O["a"],Icon:p["a"],Popup:c["a"],Dialog:P["a"]},data:function(){return{user:{id:"",name:"请登录",email:"请登录",vip_start:"请登录",vip_stop:"请登录"},vip_time:"请登录",subscription:{id:"",uId:"",provinceZh:"",cityId:"",cityZh:"",ifEmail:""},subscriptionList:[],ifModify:!1,modifyOrSave:"修改个人信息",showPop:!1}},methods:{toLoginRegister:function(){var t=this;"请登录"!=this.user.id&&"请登录"!=this.user.email?P["a"].confirm({title:"注销",message:"退出当前账号?"}).then(function(){t.logout()}).catch(function(){}):this.$router.push("/login")},logout:function(){var t=this;this.axios({url:"/mobile/user/logout.action",method:"get"}).then(function(e){1==e.data&&t.clearUser()}).catch(function(t){console.log(t)})},clearUser:function(){this.getSubscription(),this.getUser()},getUser:function(){var t=this;this.axios({url:"/mobile/user/getUserMessage.action",method:"get"}).then(function(e){if(""!=e.data&&null!=e.data){t.user=e.data;var i=e.data.vip_stop;if(null==i)t.vip_time="未开通或已到期";else{var n=A["a"].getTimeSpace((new Date).getTime(),i);n[0]>0?t.vip_time="剩余"+n[0].toFixed(0)+"天":t.vip_time="未开通或已到期"}}else t.user.id="",t.user.name="请登录",t.user.email="请登录",t.user.vip_stop="请登录",t.vip_time="请登录"}).catch(function(t){console.log(t)})},modifyUser:function(){var t=this;"请登录"==this.user.email?this.$emit("showAlert",!0,"未登录"):1==this.ifModify?/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(this.user.email)?this.axios({url:"/mobile/user/updateEmailAndName.action",method:"post",data:this.user}).then(function(e){1==e.data?(t.modifyOrSave="修改个人信息",t.ifModify=!1,t.$emit("showAlert",!0,"修改成功"),t.$emit("getUser"),t.getUser()):-1==e.data?t.$emit("showAlert",!0,"未登录"):0==e.data?t.$emit("showAlert",!0,"请填写正确邮箱"):2==e.data&&t.$emit("showAlert",!0,"服务器无响应,请稍后重试")}).catch(function(t){console.log(t)}):this.$emit("showAlert",!0,"请填写正确邮箱"):(this.ifModify=!0,this.modifyOrSave="保存")},getSubscription:function(){var t=this;this.axios({url:"/mobile/user/getSubscription.action",method:"get"}).then(function(e){null==e.data?t.$emit("showAlert",!0,"请登录"):t.subscriptionList=e.data}).catch(function(t){console.log(t)})},addSubscription:function(){var t=this;P["a"].confirm({title:"添加订阅",message:"添加当前选中的地区?"}).then(function(){t.axios({url:"/mobile/user/addSubscription.action",method:"get"}).then(function(e){1==e.data?t.getSubscription():0==e.data?P["a"].alert({message:"请登录再重试"}).then(function(){}):-1==e.data?P["a"].alert({message:"该地区已订阅"}).then(function(){}):2==e.data?P["a"].alert({message:"订阅数量达到上限,开通会员可提高上限"}).then(function(){}):3==e.data&&P["a"].alert({message:"抱歉!订阅失败,当前订阅个数已达到上限"}).then(function(){})})}).catch(function(){})},deleteSubscription:function(t){var e=this;P["a"].confirm({title:"移除订阅",message:"取消订阅该城市?"}).then(function(){e.axios({url:"/mobile/user/deleteSubscription.action",method:"get",params:{id:t}}).then(function(t){1==t.data?e.getSubscription():-1==t.data?P["a"].alert({message:"登录信息过期"}).then(function(){}):0==t.data&&P["a"].alert({message:"服务器异常"}).then(function(){})}).catch(function(t){console.log(t)})}).catch(function(){})}},mounted:function(){this.getUser(),this.getSubscription()},filters:{formatDate:function(t){if("请先登录"==t)return null;var e=new Date(t),i=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var o=e.getDate();o=o<10?"0"+o:o;var r=e.getHours();r=r<10?"0"+r:r;var a=e.getMinutes();a=a<10?"0"+a:a;var s=e.getSeconds();return s=s<10?"0"+s:s,i+"-"+n+"-"+o+" "+r+":"+a+":"+s}}},z=L,I=(i("c28a"),Object(k["a"])(z,$,E,!1,null,"247e2e58",null)),M=I.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{height:"360px","margin-left":"5%","margin-top":"25px"},attrs:{src:i("52a0")}}),n("marquee",{staticStyle:{"text-align":"center","margin-top":"-30px"},attrs:{direction:"up",scrollamount:"2",height:"200"}},[n("ul",{staticStyle:{"font-size":"12px","line-height":"22px","list-style":"none"}},[n("li",[t._v("作品: Aweather")]),n("li",[t._v("版本号: v1.2")]),n("li",[t._v("功能: 快速获取全国各地天气数据,提供订阅功能")]),n("li",[t._v("创作人: 吴正华")]),n("li",[t._v("创作时间: 2018-2019")]),n("li",[t._v("整体架构: 面向服务的分布式架构,前后端分离,restful风格.")]),n("li",[t._v("服务器: 十台后端服务器(tomcat)+一台前端服务器(vue-cli)")]),n("li",[t._v("前端: vue,jquery,bootstrap,webpack,css,javascript,vant")]),n("li",[t._v("后端: Java")]),n("li",[t._v("Java框架: SpringMVC,MyBatis,Spring,Spring Boot,Spring Cloud")]),n("li",[t._v("使用工具: IDEA,VSCode,Postman,natapp,Navicat,Redis Desktop Manager,Android Stutio")]),n("li",[t._v("调试浏览器: FireFox,Google Chrome,IE(支付服务)")]),n("li",[t._v("分布式解决方案: SpringCloud")]),n("li",[t._v("分布式中间件: ActiveMQ,Redis")]),n("li",[t._v("鸣谢: 我自己")]),n("li",[t._v("仅供学习,不作任何商业用途")]),n("li",[t._v("感谢您的体验与支持!")]),n("li",[t._v("2019-08-17")])])])],1)])},R=[],B={name:"about"},T=B,j=(i("2587"),Object(k["a"])(T,V,R,!1,null,"2d503ff6",null)),U=j.exports,Z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},D=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticStyle:{"text-align":"center"}},[n("div",{staticStyle:{"background-color":"white","text-align":"center","margin-top":"40px"}},[n("img",{staticStyle:{height:"150px","margin-top":"50px"},attrs:{src:i("e53b")}}),n("div",{staticStyle:{},attrs:{id:"title"}},[t._v("Aweather")])]),n("span",{staticStyle:{"font-size":"22px"}},[n("br"),t._v("欢迎使用Aweather"),n("br"),t._v("左上角手动选择城市"),n("br"),t._v("右上角可以快速定位城市")]),n("br")])}],N={name:"home",components:{VButton:u["a"],Popup:c["a"]},data:function(){return{showPopup:!1}}},F=N,W=(i("eb05"),Object(k["a"])(F,Z,D,!1,null,"66cd3001",null)),q=W.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{attrs:{id:"loginAndRegister"}},[i("div",{staticStyle:{"margin-top":"70px"}},[i("transition",{attrs:{mode:"out-in"}},[i(t.loginOrRegister,{ref:"comView",tag:"component",attrs:{user:t.user,data:t.data},on:{finishCheck:t.finishCheck}})],1),i("div",{staticStyle:{"margin-top":"8px","text-align":"center"}},[i("v-button",{attrs:{round:!0,size:"large",type:"login"==t.loginOrRegister?"info":"default"},on:{click:function(e){return t.doLogin()}}},[t._v(t._s("login"==t.loginOrRegister?"登录":"返回登录")+"\n            ")]),i("br"),i("v-button",{attrs:{round:!0,size:"large",type:"register"==t.loginOrRegister?"info":"default"},on:{click:function(e){return t.doRegister()}}},[t._v(t._s("register"==t.loginOrRegister?"注册":"注册新账号")+"\n            ")])],1)],1),i("popup",{style:{height:"80px",width:"150px"},attrs:{round:""},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[i("div",{staticStyle:{"text-align":"center","margin-top":"35px"}},[t._v("\n            "+t._s(t.popMsg)+"\n        ")])])],1)},J=[],X=(i("7f7f"),i("be7f"),i("565f")),Q=(i("0653"),i("34e9")),H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"login"}},[i("cell-group",[i("field",{attrs:{placeholder:"请输入邮箱",label:"邮箱","left-icon":"contact","error-message":t.emailError},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),i("field",{attrs:{placeholder:"请输入密码",type:"password",label:"密码","left-icon":"bag-o","error-message":t.passwordError},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1)],1)},Y=[],K={name:"login",data:function(){return{emailError:"",passwordError:""}},props:["user"],components:{CellGroup:Q["a"],Field:X["a"],vButton:u["a"]},methods:{}},tt=K,et=Object(k["a"])(tt,H,Y,!1,null,"541d7492",null),it=et.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"register"}},[i("cell-group",[i("field",{attrs:{placeholder:"请输入邮箱",label:"邮箱","left-icon":"envelop-o",required:"","error-message":t.emailError},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),i("field",{attrs:{placeholder:"请输入姓名",label:"姓名","left-icon":"user-o","error-message":t.nameError},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),i("field",{attrs:{placeholder:"请输入密码",type:"password",label:"密码","left-icon":"bag-o",required:"","error-message":t.passwordError},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),i("field",{attrs:{placeholder:"请重复密码",type:"password",label:"重复密码","left-icon":"bag-o",required:"","error-message":t.confirmPasswordError},model:{value:t.data.confirmPassword,callback:function(e){t.$set(t.data,"confirmPassword",e)},expression:"data.confirmPassword"}}),i("br"),i("div",{staticStyle:{"font-size":"18px","text-align":"center"}},[t._v("证明你不是机器人")]),i("slide-check",{on:{finishCheck:function(e){return t.$emit("finishCheck")}}}),i("br")],1)],1)},ot=[],rt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},at=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"demo"}},[i("div",{attrs:{id:"slider"}},[i("div",{attrs:{id:"slider_bg"}}),i("span",{attrs:{id:"label"}},[t._v(">>")]),i("span",{attrs:{id:"labelTip"}},[t._v("拖动滑块验证")])])])}],st=(i("4cd2"),{name:"sliderCheck",methods:{sliderUnlock:function(){var t=this,e=new SliderUnlock("#slider",{successLabelTip:"完成验证!"},function(){t.$emit("finishCheck")});e.init()}},mounted:function(){this.sliderUnlock()}}),ct=st,lt=(i("f3d0"),Object(k["a"])(ct,rt,at,!1,null,"4775918f",null)),ut=lt.exports,pt={name:"login",data:function(){return{emailError:"",nameError:"",passwordError:"",confirmPasswordError:""}},components:{CellGroup:Q["a"],Field:X["a"],vButton:u["a"],slideCheck:ut},props:["user","data"]},dt=pt,ft=Object(k["a"])(dt,nt,ot,!1,null,"4f1326ce",null),ht=ft.exports,mt={name:"loginAndRegister",components:{CellGroup:Q["a"],Field:X["a"],vButton:u["a"],login:it,register:ht,Popup:c["a"]},data:function(){return{loginOrRegister:"login",user:{name:"",email:"",password:"",created:""},data:{confirmPassword:""},goCheck:!1,showPop:!1,popMsg:""}},methods:{doLogin:function(){var t=this;"login"==this.loginOrRegister?(this.$refs.comView.passwordError="",this.$refs.comView.emailError="",this.axios({method:"post",url:"/mobile/user/doLogin.action",data:this.user}).then(function(e){1==e.data&&t.$router.push("/user"),2==e.data&&(t.$refs.comView.passwordError="密码有误"),3==e.data&&(t.$refs.comView.emailError="邮箱有误"),4==e.data&&(t.$refs.comView.passwordError="邮箱有误"),5==e.data&&(t.$refs.comView.passwordError="邮箱有误"),6==e.data&&(t.$refs.comView.passwordError="未知错误,稍后重试")}).catch(function(t){console.log(t)})):(this.clearUser(),this.loginOrRegister="login")},finishCheck:function(){this.goCheck=!0},doRegister:function(){var t=this;if("register"==this.loginOrRegister){this.$refs.comView.emailError="",this.$refs.comView.passwordError="",this.$refs.comView.confirmPasswordError="";var e=this.user.email,i=(this.user.name,this.user.password),n=this.data.confirmPassword;/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e)?""==i?this.$refs.comView.passwordError="请输入密码":i!=n?this.$refs.comView.confirmPasswordError="密码不一致":this.goCheck?this.axios({url:"/mobile/user/doRegist.action",method:"post",data:this.user}).then(function(e){1==e.data&&(t.clearUser(),t.popMsg="注册成功",t.showPop=!0,t.loginOrRegister="login"),2==e.data&&(t.$refs.comView.emailError="邮箱有误"),3==e.data&&(msg="密码不能为空"),4==e.data&&(t.$refs.comView.emailError="邮箱有误"),5==e.data&&(t.$refs.comView.emailError="邮箱已被注册"),6==e.data&&(t.$refs.comView.emailError="未知错误,稍后重试")}).catch(function(t){console.log(t)}):(this.popMsg="请通过验证",this.showPop=!0):this.$refs.comView.emailError="邮箱有误"}else this.clearUser(),this.loginOrRegister="register"},clearUser:function(){this.user.email="",this.user.password="",this.user.name="",this.user.created="",this.userName="",this.data.confirmPassword="",(this.loginOrRegister="login")&&(this.$refs.passwordError="",this.$refs.emailError=""),(this.loginOrRegister="register")&&(this.$refs.passwordError="",this.$refs.emailError="",this.$refs.confirmPasswordError="",this.$refs.nameError=""),"/user"==this.$route.path&&(this.$refs.routerView.getSubscription(),this.$refs.routerView.getUser())}}},gt=mt,vt=Object(k["a"])(gt,G,J,!1,null,"756985b0",null),bt=vt.exports;n["a"].use(m["a"]);var wt=new m["a"]({routes:[{path:"/",redirect:"/home"},{path:"/weather",component:C},{path:"/user",component:M},{path:"/about",component:U},{path:"/home",component:q},{path:"/login",component:bt}]});wt.afterEach(function(){document.body.scrollTop=0,document.documentElement.scrollTop=0});var yt=wt,xt={name:"app",components:{Tabbar:h["a"],TabbarItem:f["a"],NavBar:d["a"],Icon:p["a"],vButton:u["a"],Picker:l["a"],Popup:c["a"],PullRefresh:s["a"]},data:function(){return{active:0,location:"定位中...",showPicker:!1,provinceArrray:[],cityArray:[],isLoading:!1}},methods:{onRefresh:function(){var t=this,e=this;setTimeout(function(){t.isLoading=!1,"/weather"==e.$route.path&&e.$refs.routerView.getWeatherByCityId()},800)},onChange:function(t,e){this.getCityByProvince(t.getColumnValue(0))},getAllProvince:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios({method:"get",url:"/mobile/city/getAllProvince.action"}).then(function(t){e.provinceArrray=t.data}).catch(function(t){console.log(t)});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getCityByProvince:function(t){var e=this;this.axios({method:"get",params:{province:t},url:"/mobile/city/getCityByProvince.action"}).then(function(t){e.cityArray=t.data}).catch(function(t){console.log(t)})},getLocation:function(t,e){this.location=t[1];var i=t[0];this.setCityIdToCookie(this.location,i),this.showPicker=!1},setLocation:function(t,e){this.location=t,this.setCityIdToCookie(t,e)},setCityIdToCookie:function(t,e){var i=this;this.axios({method:"get",url:"/mobile/city/setCityIdToCookie.action",params:{cityZh:t,provinceZh:e}}).then(function(t){"/weather"==i.$route.path&&i.$refs.routerView.getWeatherByCityId()}).catch(function(t){console.log(t)})},removeCityIdFromCookie:function(){this.axios({method:"get",url:"/mobile/city/removeCityIdFromCookie.action"}).catch(function(t){console.log(t)})},getCity:function(){var t=this;this.removeCityIdFromCookie(),this.location="定位中...";var e=new BMap.Geolocation;e.getCurrentPosition(function(e){var i=e.address.city,n=e.address.province;i=i.replace("市",""),i=i.replace("区",""),i=i.replace("县",""),n=n.replace("省",""),n=n.replace("市",""),n=n.replace("特别行政区",""),t.setCityIdToCookie(i,n),t.location=i},function(e){t.location="定位失败",alert("请确定是否开启了定位,或者手动选择位置")},{provider:"baidu"})}},mounted:function(){this.getCity(),this.getAllProvince(),this.getCityByProvince("上海")},computed:{columns:function(){return[{values:this.provinceArrray,className:"provinceColumn"},{values:this.cityArray,className:"cityColumn",defaultIndex:0}]}},router:yt},_t=xt,kt=(i("50c5"),Object(k["a"])(_t,o,r,!1,null,null,null)),St=kt.exports,Ct=(i("4989"),i("bc3a")),$t=i.n(Ct);n["a"].prototype.axios=$t.a,n["a"].config.productionTip=!1,new n["a"]({router:yt,render:function(t){return t(St)}}).$mount("#app"),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)||(window.location.href="/")},"737d":function(t,e,i){},"81db":function(t,e,i){t.exports=i.p+"img/qing.69a6aecc.png"},9184:function(t,e,i){t.exports=i.p+"img/zhenyu.6ceab0a5.png"},"9c87":function(t,e,i){"use strict";var n=i("d00e"),o=i.n(n);o.a},"9dd5":function(t,e,i){t.exports=i.p+"img/yu.f937ce66.png"},a28e:function(t,e,i){"use strict";var n={calculateDiffTime:function(t,e){var i=0,n=0;t<e?(i=t,n=e):(i=e,n=t);var o=n-i,r=Math.floor(o/86400/365);o%=31536e3;var a=Math.floor(o/86400/30);o%=2592e3;var s=Math.floor(o/86400);o%=86400;var c=Math.floor(o/3600);o%=3600;var l=Math.floor(o/60);o%=60;var u=o;return[r,a,s,c,l,u]},getTimeSpace:function(t,e){var i=e-t,n=i/864e5,o=i/36e5,r=i/6e4;return[n,o,r]}};e["a"]=n},a90b:function(t,e,i){t.exports=i.p+"img/shachen.e75db365.png"},af05:function(t,e,i){},c28a:function(t,e,i){"use strict";var n=i("e149"),o=i.n(n);o.a},d00e:function(t,e,i){},d3a7:function(t,e,i){t.exports=i.p+"img/wu.aaa02e6b.png"},e149:function(t,e,i){},e53b:function(t,e,i){t.exports=i.p+"img/index_logo.e4cc5b69.gif"},e688:function(t,e,i){t.exports=i.p+"img/yun.7315318c.png"},eb05:function(t,e,i){"use strict";var n=i("65cf"),o=i.n(n);o.a},ecfb:function(t,e,i){t.exports=i.p+"img/bingbao.edae0112.png"},f3d0:function(t,e,i){"use strict";var n=i("af05"),o=i.n(n);o.a},ff3c:function(t,e,i){t.exports=i.p+"img/xiaoyu2.bba47525.png"}});
//# sourceMappingURL=mobile.38482b3c.js.map